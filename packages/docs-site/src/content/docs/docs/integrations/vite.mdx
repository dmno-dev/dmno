---
title: Vite
description: Use DMNO to add type safety and validation to your Vite project's configuration. 
---

import TabbedCode from '@/components/TabbedCode.astro';

At DMNO we're big fans of [Vite](https://vitejs.dev/), which is why we offer first class integration between Vite and DMNO. 

## Init

To get started, `dmno init` will scaffold your project and install `dmno` and the `vite-integration` package. 

<TabbedCode dynamicExec="dmno init" />

This will create a `.dmno` directory in the root of your project with a `config.mts` file.

### Configure your environment variables    

See our [Schema Guide](/docs/guides/schema) for the specifics of how to write your first DMNO schema. 


## Setup

### Configure the dmno vite plugin

Update your `vite.config.ts` - import the plugin, and add to `defineConfig`:

```diff lang="ts" title="vite.config.ts" ins="dmnoVitePlugin()"
+import { dmnoVitePlugin } from '@dmno/vite-integration';

export default {
  // ...
  plugins: [dmnoVitePlugin()],
};

```


## Accessing config

Now in your application code you'll have access to a global object with all of your _public_ config items (i.e., those which aren't marked `sensitive`) called `DMNO_PUBLIC_CONFIG`. 

```js
const publicItem = DMNO_PUBLIC_CONFIG.MY_ITEM;
```

And in any server code like your `vite.config.ts` file you can access all of your config via `DMNO_CONFIG`.

```js
const secretItem = DMNO_CONFIG.MY_SECRET_ITEM;
```


:::tip[FYI]
Under the hood, for your client code, vite replaces the references to your config with actual values at build time.
:::

### SSR + dynamic config

Currently our vite integration assumes you are doing _static_ builds, and not SSR. Therefore all config items are treated as "static".

Deeper support for ssr should be coming soon!

## Common recipes

### Using env vars within `vite.config.*`
It's often useful to be able to access configuration / env vars within your vite config. Without DMNO, it's a bit awkward, but DMNO makes it dead simple - in fact it's already available! Just reference config vars via `DMNO_CONFIG.SOME_ITEM` like you do everywhere else.

In many vite projects, your `vite.config.*` file is not included in the same tsconfig as the rest of your code. If this is the case and you are seeing type errors about `DMNO_CONFIG` not existing, you can add a triple slash reference to the generated types. For example:

```diff lang="ts" title="vite.config.ts"
+/// <reference types="./.dmno/.typegen/global.d.ts" />
import { defineConfig } from 'vite';
// ...
```
see our [TypeScript guide](/docs/guides/typescript) for more details.

