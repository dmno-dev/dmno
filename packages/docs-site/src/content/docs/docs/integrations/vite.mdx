---
title: Vite
description: Use DMNO to add type safety and validation to your Vite project's configuration. 
---

import TabbedCode from '@/components/TabbedCode.astro';

At DMNO we're big fans of [Vite](https://vitejs.dev/), which is why we offer first class integration between Vite and DMNO. 

To get started, install `dmno` and the `vite` plugin: 

<TabbedCode packageName="@dmno/vite-integration dmno" />

### Scaffold your DMNO config

Next, run the following command in a terminal at the root of your repo:

<TabbedCode command="dmno init" />

This will create a `.dmno` directory in the root of your project with a `config.mts` file. And it will also create `.dmno` folders and config files in each of the other directories for other apps/services if you have a monorepo.

### Configure your environment variables    

See our [Schema Guide](/docs/guides/schema) for the specifics of how to write your first DMNO schema. 


## Setup

### Install the dmno vite plugin

Update your `vite.config.ts` - import the plugin, and add to `defineConfig`:

```diff lang="ts" title="vite.config.ts" ins="dmnoVitePlugin()"
+import { dmnoVitePlugin } from '@dmno/vite-integration';

export default {
  // ...
  plugins: [dmnoVitePlugin()],
};

```

### Set up Typescript
In most vite setups, you'll have two tsconfig files - one for your client code (that will be run in the browser) and one for the node config files. We'll add our DMNO autogenerated types to both.

First the client file, where we only have access to non-sensitive config via `DMNO_PUBLIC_CONFIG`:
```diff lang="json" title="tsconfig.json"
{
  "extends": "astro/tsconfigs/strict",
  "include": [
    // we only have access to the DMNO_PUBLIC_CONFIG in the client
+    "./.dmno/.typegen/global-public.d.ts",
    //...
  ],
  // ...
}
```

Then our server file, where we have access to eveything via `DMNO_CONFIG`. This is mostly useful for accessing config within your vite.config or other similar backend scripts:
```diff lang="json" title="tsconfig.node.json"
{
  "extends": "astro/tsconfigs/strict",
  "include": [
    // add types for DMNO_CONFIG
+    "./.dmno/.typegen/global.d.ts",
    // optionally you can add DMNO_PUBLIC_CONFIG as well, but its not necessary
+    "./.dmno/.typegen/global-public.d.ts",
    // ...
  ],
  // ...
}
```


## Accessing config

Now in your application code you'll have access to a global object with all of your _public_ config items (those which aren't marked `sensitive`) called `DMNO_PUBLIC_CONFIG`. 

```js
const publicItem = DMNO_PUBLIC_CONFIG.MY_ITEM;
```

And in any server code (like your `vite.config.ts` file) you can access all of your config via `DMNO_CONFIG`.

```js
const secretItem = DMNO_CONFIG.MY_SECRET_ITEM;
```


:::tip[FYI]
Under the hood, for your client code, vite replaces the references to your config with actual values at build time.
:::

### SSR + Dynamic Config

Currently our vite integration assumes you are doing _static_ builds, and not SSR. Therefore all config items are treated as "static".

Deeper support for ssr should be coming soon!

